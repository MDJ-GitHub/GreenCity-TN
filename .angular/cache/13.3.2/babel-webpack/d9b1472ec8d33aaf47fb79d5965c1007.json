{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { SHA256, enc } from \"crypto-js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nexport let AFrHomeComponent = /*#__PURE__*/(() => {\n  class AFrHomeComponent {\n    constructor(elementRef, http, _router) {\n      this.elementRef = elementRef;\n      this.http = http;\n      this._router = _router;\n    }\n\n    ngOnInit() {\n      window.scrollTo(0, 0);\n    }\n\n    login() {\n      const httpOptions = {\n        headers: new HttpHeaders()\n      };\n      httpOptions.headers.append('Access-Control-Allow-Origin', '*');\n      httpOptions.headers.append('Content-Type', 'application/json');\n      httpOptions.headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8'); // @ts-ignore\n\n      if (document.getElementById(\"username\") == \"\") {\n        alert(\"\");\n        return;\n      } // @ts-ignore\n\n\n      if (document.getElementById(\"password\") == \"\") {\n        alert(\"\");\n        return;\n      }\n\n      var username = document.getElementById(\"username\")['value'];\n      var password = document.getElementById(\"password\")['value'];\n      var cpassword = SHA256(password).toString(enc.Hex);\n      var x = username.replace(' ', '_');\n      this.http.get(\"https://greencity-tn-default-rtdb.europe-west1.firebasedatabase.app/adminaccounts/\" + x + \"-\" + cpassword + \".json\", httpOptions).subscribe(responseData => {\n        if (responseData != null) {\n          // @ts-ignore\n          localStorage.setItem(\"adminnom\", responseData.username); // @ts-ignore\n\n          localStorage.setItem(\"adminloc\", responseData.location); // @ts-ignore\n\n          localStorage.setItem(\"adminp\", password);\n\n          this._router.navigate(['/a-fr-info']);\n\n          window.location.reload();\n        } else {\n          alert(\"Le nom d'utilisateur ou le mot de passe sont erronés. Veuillez insérer les bons identifiants.\");\n        }\n      });\n    }\n\n    deconnecter() {\n      localStorage.removeItem(\"adminnom\");\n      localStorage.removeItem(\"adminloc\");\n      localStorage.removeItem(\"adminp\");\n    }\n\n    aboutme() {}\n\n  }\n\n  AFrHomeComponent.ɵfac = function AFrHomeComponent_Factory(t) {\n    return new (t || AFrHomeComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  AFrHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AFrHomeComponent,\n    selectors: [[\"app-a-fr-home\"]],\n    decls: 67,\n    vars: 0,\n    consts: [[1, \"navbar\", \"shadow-lg\", \"fixed-top\", \"navbar-dark\", \"bg-outline-success\", \"justify-content-between\", \"py-0\"], [\"ngbDropdown\", \"\", 1, \"d-inline-block\"], [\"myDrop\", \"ngbDropdown\"], [\"id\", \"dropdownManual\", \"ngbDropdownAnchor\", \"\", 1, \"btn\", 3, \"focus\"], [\"src\", \"/assets/img/settings.png\", \"width\", \"30\", \"height\", \"25\", \"alt\", \"\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdownManual\"], [\"ngbDropdownItem\", \"\", 3, \"click\"], [\"src\", \"/assets/img/question-fill.png\", \"width\", \"25\", \"height\", \"25\", \"alt\", \"\", 1, \"rounded\", \"ms-auto\"], [\"src\", \"/assets/img/logo.png\", \"width\", \"55\", \"height\", \"40\", \"alt\", \"\", 1, \"\"], [\"id\", \"x\", 1, \"text-end\"], [\"id\", \"\", 1, \"text-center\", 2, \"background-image\", \"url('/assets/img/backgroundadmin.png')\", \"background-repeat\", \"no-repeat\", \"background-attachment\", \"fixed\", \"background-size\", \"100% 100%\"], [1, \"container\"], [1, \"row\"], [1, \"col-sm\"], [1, \"text-center\"], [\"src\", \"/assets/img/logo.png\", \"width\", \"420\", \"height\", \"420\"], [1, \"card\", \"shadow-lg\", \"text-start\", 2, \"width\", \"24rem\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"input-group\", \"mb-3\"], [1, \"input-group-prepend\"], [\"id\", \"basic-addon1\", 1, \"input-group-text\"], [\"src\", \"/assets/img/person-fill.png\", \"width\", \"20\", \"height\", \"25\"], [\"type\", \"text\", \"placeholder\", \"Ins\\u00E9rez le nom d'utilisateur ici\", \"aria-label\", \"Username\", \"aria-describedby\", \"basic-addon1\", \"id\", \"username\", 1, \"form-control\"], [\"src\", \"/assets/img/lock-fill.png\", \"width\", \"20\", \"height\", \"25\"], [\"type\", \"text\", \"placeholder\", \"Ins\\u00E9rez le mot de passe ici\", \"aria-label\", \"Username\", \"aria-describedby\", \"basic-addon1\", \"id\", \"password\", 1, \"form-control\"], [1, \"btn\", 2, \"background-color\", \"#75c612\", \"color\", \"white\", 3, \"click\"], [1, \"btn\", \"btn-outline-success\"]],\n    template: function AFrHomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"nav\", 0)(1, \"div\", 1, 2)(3, \"button\", 3);\n        i0.ɵɵlistener(\"focus\", function AFrHomeComponent_Template_button_focus_3_listener() {\n          i0.ɵɵrestoreView(_r1);\n\n          const _r0 = i0.ɵɵreference(2);\n\n          return _r0.open();\n        });\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function AFrHomeComponent_Template_button_click_6_listener() {\n          return ctx.aboutme();\n        });\n        i0.ɵɵelement(7, \"img\", 7);\n        i0.ɵɵtext(8, \"\\u00A0\\u00C0 propos de Moi\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(9, \"img\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\");\n        i0.ɵɵtext(11, \" \\u00A0 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"div\")(13, \"div\");\n        i0.ɵɵelementStart(14, \"div\", 9)(15, \"h5\");\n        i0.ɵɵtext(16, \"Se connecter \\u00A0\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\", 10);\n        i0.ɵɵelement(18, \"br\")(19, \"br\");\n        i0.ɵɵelementStart(20, \"div\", 11)(21, \"div\", 12);\n        i0.ɵɵelement(22, \"div\", 13);\n        i0.ɵɵelementStart(23, \"div\", 13)(24, \"table\", 14)(25, \"tr\")(26, \"td\");\n        i0.ɵɵtext(27, \" \\u00A0\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"td\");\n        i0.ɵɵtext(29, \" \\u00A0 \");\n        i0.ɵɵelement(30, \"img\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"td\")(32, \"div\", 16)(33, \"div\", 17)(34, \"h5\", 18);\n        i0.ɵɵtext(35, \"Bienvenue dans l'interface du mode administrateur de GreenCity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"hr\");\n        i0.ɵɵelementStart(37, \"P\", 18);\n        i0.ɵɵtext(38, \" \\u00A0 \\u00A0Nom d'utilisateur\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 19)(40, \"div\", 20)(41, \"span\", 21);\n        i0.ɵɵelement(42, \"img\", 22);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(43, \"input\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"P\", 18);\n        i0.ɵɵtext(45, \" \\u00A0 \\u00A0Mot de passe\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"div\", 19)(47, \"div\", 20)(48, \"span\", 21);\n        i0.ɵɵelement(49, \"img\", 24);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(50, \"input\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"button\", 26);\n        i0.ɵɵlistener(\"click\", function AFrHomeComponent_Template_button_click_51_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵtext(52, \"Connecter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(53, \" \\u00A0 \");\n        i0.ɵɵelementStart(54, \"button\", 27);\n        i0.ɵɵtext(55, \"Mot de passe oubli\\u00E9 ?\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(56, \"td\");\n        i0.ɵɵtext(57, \" \\u00A0\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(58, \"div\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(59, \"br\")(60, \"br\")(61, \"br\")(62, \"br\")(63, \"br\")(64, \"br\")(65, \"br\")(66, \"br\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    directives: [i3.NgbNavbar, i3.NgbDropdown, i3.NgbDropdownAnchor, i3.NgbDropdownMenu, i3.NgbDropdownItem],\n    styles: [\"\"]\n  });\n  return AFrHomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}